<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../core/style.css">
    <title>Midterm anatomy Lab</title>
</head>
<body>
    <h4 style="font-family: 'Prompt'; position: absolute; bottom: 0; right: 0; margin: 10px;">สารจากรุ่นสู่รุ้น | Dev By TanaTherd</h4>
    <h4 style="font-family: 'Prompt';position: absolute; bottom: 0; left: 0; margin: 10px;"><a href="https://tipme.in.th/hyorick" target="_blank"><img src='../images/coffee.PNG' width="40" height="40"></a></h4>
    <div id="question-container" class="switch-container">
        <div style="position: absolute; top: 10px; right: 10px;">
            <label class="switch">
                <input type="checkbox" id="switch" onclick="toggleBackground()">
                <span class="slider"></span>
            </label>
        </div>

        <div style="font-family: 'Prompt'; position: absolute; bottom: 0; right: 0; margin: 10px; color: rgb(0, 0, 0);">
            <span id="current-question-number">0</span> / <span id="total-questions">0</span>
        </div>

        <p id="question-title">TEST</p>
        <div id="options-container" class="options-container"></div>
        <div id="result" class="result"></div>
        <button id="back-button" style="font-family: 'Prompt'; position: absolute; bottom: 0; left: 10px; margin: 10px; display: none;" onclick="goBack()">Back</button>
        
    </div>



    <div class="nav-menu">
        <div class="menu-toggle" onclick="toggleMenu()">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <ul class="nav-list">
            <li><a href="../index.html">Midterm</a></li>
            <li><a href="LabPing.html">Lab Ping</a></li>
            <li><a href="EMR.html">EMR</a></li>
        </ul>
    </div>

<!-- ... (HTML และ CSS เดิม) ... -->

<script src="./core/script.js"></script>

<script>
let backButtonClicked = false;
function toggleMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navList = document.querySelector('.nav-list');
            menuToggle.classList.toggle('active');
            navList.classList.toggle('show');
        }
    const questions = [
    { question: "<B><img src='../images/1.PNG'><br/>จงบอกชื่อระนาบ (plane) ของสมอง (brian)</B>",options: ["Sagittal plane","Oblique plane","Mid-sagittal plane","Coronal plane","Horizontal plane"], correctAnswer: "Sagittal plane" },
        { question: "<B><img src='../images/2.PNG'><br/>จงระบุชนิดของเนื้อเยื่อบุผิว (epithelium) บริเวณที่ปีกกาสีแดง</B>",options: ["Stratified columnar epithelium","Pseudostratified squamous epithelium","Simple cuboidal epithelium","Simple squamous epithelium","Simple columnar epithelium"], correctAnswer: "Simple columnar epithelium" },
        { question: "<B><img src='../images/3.PNG'><br/>จงระบะชนิดของเนื้อเยื่อบุผิว (epithelium)</B>",options: ["Stratified columnar epithelium","Transitional epithelium","Simple cuboidal epithelium","Stratified cuboidal epithelium","Stratified squamous epithelium"], correctAnswer: "Transitional epithelium" },
        { question: "<B><img src='../images/4.PNG'><br/></B>",options: ["Microvilli","Gap junction","Stereocilia","Hemidesmosome","Cilia"], correctAnswer: "Microvilli" },
        { question: "<B><img src='../images/5.PNG'><br/></B>",options: ["Compound tubuloacinar gland","Simple coiled tubular gland","Simple branched acinar gland","Simple branched tubular gland","Simple tubular gland"], correctAnswer: "Simple branched acinar gland" },
        { question: "<B><img src='../images/6.PNG'><br/></B>",options: ["Elastic fiber","Transient cells","Ground substance","Reticular fiber","Collagen fiber"], correctAnswer: "Collagen fiber" },
        { question: "<B><img src='../images/7.PNG'><br/></B>",options: ["Elastic connective tissue","Loose connective tissue","Collagenous connective tissue","Dense regular loose connective tissue","Dense irregular loose connective tissue"], correctAnswer: "Elastic connective tissue" },
        { question: "<B><img src='../images/8.PNG'><br/></B>",options: ["Stratum corneum","Stratum lucidum","Stratum spinosum","Stratum basale"], correctAnswer: "Stratum corneum" },
        { question: "<B><img src='../images/9.PNG'><br/></B>",options: ["Melanocyte","Merkel cells","Langerhan cells","Keratinocytes","Mast cells"], correctAnswer: "Melanocyte" },
        { question: "<B><img src='../images/10.PNG'><br/></B>",options: ["Nail matrix","Nail bed","Nail groove","Nail body", "Nail fold"], correctAnswer: "Nail matrix" },
        { question: "<B><img src='../images/11.PNG'><br/></B>",options: ["Humerus","Radius","Fibula","Tibia","Bone"], correctAnswer: "Humerus" },
        { question: "<B><img src='../images/12.PNG'><br/></B>",options: ["Scapula","Clavicle","Patella","Ilium","Pubis"], correctAnswer: "Scapula" },
        { question: "<B><img src='../images/13.PNG'><br/></B>",options: ["Femur","Humerus","Tibia","Fibula","Radius"], correctAnswer: "Femur" },
        { question: "<B><img src='../images/14.PNG'><br/></B>",options: ["Ball and socket joint","Pivot joint","Hinge joint","Saddle joint","Condyloid joint"], correctAnswer: "Ball and socket joint" },
        { question: "<B><img src='../images/15.PNG'><br/></B>",options: ["Sacrum","Coccyx","Cervical","Thoracic","Lumbar"], correctAnswer: "Sacrum" },
        { question: "<B><img src='../images/16.PNG'><br/></B>",options: ["Hip bone","Tibia","Navicular","Fibula","ASIS"], correctAnswer: "Hip bone" },
        { question: "<B><img src='../images/17.PNG'><br/></B>",options: ["Patella","Talus","Hamate","Capitate","Scaphoid"], correctAnswer: "Patella" },
        { question: "<B><img src='../images/18.PNG'><br/></B>",options: ["Pterion","Vertex","Coronal suture","Lambdoid suture","Sphenoid"], correctAnswer: "Pterion" },
        { question: "<B><img src='../images/19.PNG'><br/></B>",options: ["Clavicle","Scapula","Sternum","Patella","Radius"], correctAnswer: "Clavicle" },
        { question: "<B><img src='../images/20.PNG'><br/></B>",options: ["Callcaneus","Cuneiform","Cuboid","Talus","Navicular"], correctAnswer: "Callcaneus" },
        { question: "<B><img src='../images/21.PNG'><br/></B>",options: ["Skeletal muscular tissue","Cardiac muscular tissue","Smooth muscular tissue","Nervous tissue","Connective tissue"], correctAnswer: "Skeletal muscular tissue" },
        { question: "<B><img src='../images/22.PNG'><br/></B>",options: ["Platysma","Zygomaticus major","Orbicularis oris","Frontalis"], correctAnswer: "Platysma" },
        { question: "<B><img src='../images/23.PNG'><br/></B>",options: ["Gluteus maximus","Trapezius","Latissimus dorsi","Levator scapulae"], correctAnswer: "Gluteus maximus" },
        { question: "<B><img src='../images/24.PNG'><br/></B>",options: ["Pectoralis major","Coracobracialis","Deltoid","LEvator scapulae","Serratus anterior"], correctAnswer: "Pectoralis major" },
        { question: "<B><img src='../images/26.PNG'><br/></B>",options: ["Gracilis","Adductor brevis","Sartorius","Rectus femoris"], correctAnswer: "Rectus femoris" },
        { question: "<B><img src='../images/27.PNG'><br/></B>",options: ["Cardiac muscle","Tendon","Adipose tissue","Fascia","Ligament"], correctAnswer: "Cardiac muscle" },
        { question: "<B><img src='../images/28.PNG'><br/></B>",options: ["Rectus abdominis muscle","Transversus abdominis muscle","External abdominal oblique muscle","Adductor longus","Internal abdominal oblique muscle"], correctAnswer: "Rectus abdominis muscle" },
        { question: "<B><img src='../images/29.PNG'><br/></B>",options: ["Sternocleidomastoid","Temporalis","Pectoralis major","Pectoralis minor","Platysma"], correctAnswer: "Sternocleidomastoid" },
        { question: "<B><img src='../images/30.PNG'><br/></B>",options: ["Deltoid","Pectoralis major","Triceps brachii","Serratus posterior","Teres major"], correctAnswer: "Deltoid" },
        { question: "<B><img src='../images/31.PNG'><br/></B>",options: ["Trapezius","LAtissimus dorsi","Levator scapulae","Rhomboid major","Infraspinatus"], correctAnswer: "Trapezius" },
        { question: "<B><img src='../images/32.PNG'><br/></B>",options: ["Cauda equina","Pia mater","Conus medullaris","Dentate ligment","Filum terminalae"], correctAnswer: "Cauda equina" },
        { question: "<B><img src='../images/33.PNG'><br/></B>",options: ["Frontal lobe","Insula lobe","Temporal lobe","Occipital lobe","Parietal lobe"], correctAnswer: "Frontal lobe" },
        { question: "<B><img src='../images/34.PNG'><br/></B>",options: ["Pons","Cerebellum","Medulla oblongata","Cerebral peduncles","Midbrain"], correctAnswer: "Pons" },
        { question: "<B><img src='../images/35.PNG'><br/></B>",options: ["Olfactory","Oculomotor","Facial","Trochlear","Opric"], correctAnswer: "Olfactory" },
        { question: "<B><img src='../images/36.PNG'><br/></B>",options: ["Cerebellum","Pons","Medulla oblongata","Cerebral peduncles","Midbrain"], correctAnswer: "Cerebellum" },
        { question: "<B><img src='../images/37.PNG'><br/></B>",options: ["Basilar","PICA","AICA","Pontine","Vertebrel"], correctAnswer: "Basilar" },
        { question: "<B><img src='../images/38.PNG'><br/></B>",options: ["Lateral sulcus","Longitudinal fissure","Central sulcus","Parieto-occipital sulcus","Calcarine sulcus"], correctAnswer: "Lateral sulcus" },
        { question: "<B><img src='../images/39.PNG'><br/></B>",options: ["Lateral ventricle","Lateral foramen","Third ventricle","Interventricular foramen","Fourth ventricle"], correctAnswer: "Lateral ventricle" },
        { question: "<B><img src='../images/40.PNG'><br/></B>",options: ["Faix cerebri","Rt. Lateral ventricle","Falx cerebelli","Lt. lateral ventricle","Tentorium cerebelli"], correctAnswer: "Faix cerebri" },
        { question: "<B><img src='../images/41.PNG'><br/></B>",options: ["Sciatic","Radial","Femoral","Median","Obturator"], correctAnswer: "Sciatic" },
        { question: "<B><img src='../images/42.PNG'><br/></B>",options: ["Retina","Cornea","Vitreous humor","Sclera","Choroid"], correctAnswer: "Retina" },
        { question: "<B><img src='../images/43.PNG'><br/></B>",options: ["Taste bud","Vitreous cavity","Lens","Taste hair","Taste pore"], correctAnswer: "Taste bud" },
        { question: "<B><img src='../images/44.PNG'><br/></B>",options: ["Crista ampullaris","Spiral organ","Saccular macula","Cochlear duct","Utricular"], correctAnswer: "Crista ampullaris" },
        { question: "<B><img src='../images/45.PNG'><br/></B>",options: ["Optic disc","Retina","Lens","Macular lutea","Fovea centralis"], correctAnswer: "Optic disc" },
        { question: "<B><img src='../images/46.PNG'><br/></B>",options: ["Pacinian corpuscle","Meissner's corpuscle","Tactile disc","Root hair plexus","Bulbous corpuscle"], correctAnswer: "Pacinian corpuscle" },
        { question: "<B><img src='../images/47.PNG'><br/></B>",options: ["Muscle spindle","Golgi tendon organ","Tactile corpuscle","Free nerve ending"], correctAnswer: "Muscle spindle" },
        { question: "<B><img src='../images/48.PNG'><br/></B>",options: ["Superior nasal concha","Middle nasal meatus","Middle nasal concha","Nasal septum","Inferior nasal concha"], correctAnswer: "Superior nasal concha" },
        { question: "<B><img src='../images/49.PNG'><br/></B>",options: ["Stapes","Incus","Crista ampullaris","Vestibule","Malleus"], correctAnswer: "Stapes" },
        { question: "<B><img src='../images/50.PNG'><br/></B>",options: ["Spiral organ","Cestibule","Crista ampullaris","Macular","Cochlear"], correctAnswer: "Spiral organ" },
        { question: "<B><img src='../images/51.PNG'><br/></B>",options: ["Lacrimal gland","Lacrimal canaliculi","Vestibule","Anterior nares","Lacrimal sac"], correctAnswer: "Lacrimal gland" },
        { question: "<B><img src='../images/52.PNG'><br/></B>",options: ["Right lung","Liver","Stomach","Left lung","Trachea"], correctAnswer: "Right lung" },
        { question: "<B><img src='../images/53.PNG'><br/></B>",options: ["Middle nasal concha","Superior nasal concha","Superior nasal meatus","Middle nasal meatus"], correctAnswer: "Middle nasal concha" },
        { question: "<B><img src='../images/54.PNG'><br/></B>",options: ["Middle lobe","Upper lobe","Caudate lobe","Lower lobe","Inferior lobe"], correctAnswer: "Middle lobe" },
        { question: "<B><img src='../images/55.PNG'><br/></B>",options: ["Cardiac impresion","Groove for ascending aorta","Groove for azygos vein","Esophageal impression"], correctAnswer: "Cardiac impresion" },
        { question: "<B><img src='../images/56.PNG'><br/></B>",options: ["Thyroid cartilage","Arythynoid cartilage","Cricoid cartilage","Larynx"], correctAnswer: "Thyroid cartilage" },
        { question: "<B><img src='../images/57.PNG'><br/></B>",options: ["Diaphragm","Right lobe of Liver","Innermost intercostals muscle","Internal intercostal muscle","External intercostals muscle"], correctAnswer: "Diaphragm" },
        { question: "<B><img src='../images/58.PNG'><br/></B>",options: ["Mesothelial","Alveolar macrophage","Endothelial cell","Type II pneumocyte","Type I pneumocyte"], correctAnswer: "Mesothelial" },
        { question: "<B><img src='../images/59.PNG'><br/></B>",options: ["Trachea","Main bronchus","Lobar bronchus","Larynx"], correctAnswer: "Trachea" },
        { question: "<B><img src='../images/60.PNG'><br/></B>",options: ["Sphenoidal air sinus","Superior nasal meatus","Ethmoidal air sinus","Frontal air sinus","Maxillary air sinus"], correctAnswer: "Sphenoidal air sinus" },
        { question: "<B><img src='../images/61.PNG'><br/></B>",options: ["Oblique fissure","Frontal fissure","Coronal fissure","Horizontal fissure","Transverse fissure"], correctAnswer: "Oblique fissure" }
];
      
    let currentQuestionIndex = -1;

    function shuffleArray(array) {
        return array.sort(() => Math.random() - 0.5);
    }


    function toggleBackground() {
        const switchElement = document.getElementById('switch');
        const options = document.getElementsByClassName('option');

        if (switchElement.checked) {
            // ถ้า switch ถูกเปิด
            for (let i = 0; i < options.length; i++) {
                const option = options[i];
                if (option.textContent === questions[currentQuestionIndex].correctAnswer) {
                    option.classList.add('green-background');
                }
            }
        } else {
            // ถ้า switch ถูกปิด
            for (let i = 0; i < options.length; i++) {
                const option = options[i];
                option.classList.remove('green-background');
            }
        }
    }

    const totalQuestions = questions.length;

    function displayQuestion() {
        if (backButtonClicked) {
            currentQuestionIndex = (currentQuestionIndex - 1 + totalQuestions) % totalQuestions;
        } else {
            currentQuestionIndex = (currentQuestionIndex + 1) % totalQuestions;  // ใช้ totalQuestions แทน questions.length
        }
        const currentQuestion = questions[currentQuestionIndex];     
        backButtonClicked = false; // Reset the flag

        document.getElementById('options-container').innerHTML = '';
        document.getElementById('question-title').innerHTML = currentQuestion.question;
        document.getElementById('current-question-number').textContent = currentQuestionIndex + 1;
            document.getElementById('total-questions').textContent = totalQuestions;  // อัปเดตจำนวนข้อทั้งหมด

        currentQuestion.options = shuffleArray(currentQuestion.options);

        document.getElementById('back-button').style.display = (currentQuestionIndex > 0) ? 'block' : 'none';

        currentQuestion.options.forEach((option, index) => {
            const optionElement = document.createElement('div');
            optionElement.classList.add('option');
            optionElement.textContent = option;
            optionElement.addEventListener('click', () => checkAnswer(index));
            document.getElementById('options-container').appendChild(optionElement);

            // ตรวจสอบถ้าเป็น correctAnswer ให้เพิ่ม class สีเขียวตรงนี้
            if (option === currentQuestion.correctAnswer && document.getElementById('switch').checked) {
                optionElement.classList.add('green-background');
            }
        });


        document.getElementById('result').textContent = '';
    }



    function checkAnswer(selectedIndex) {
        const currentQuestion = questions[currentQuestionIndex];
        const correctIndex = currentQuestion.options.findIndex(option => option === currentQuestion.correctAnswer);
        document.getElementById('question-title').innerHTML = currentQuestion.question;

        const resultElement = document.getElementById('result');
        if (selectedIndex === correctIndex) {
            resultElement.textContent = 'Correct!';
            resultElement.classList.remove('incorrect');
            setTimeout(displayQuestion, 1000);
        } else {
            resultElement.textContent = 'Incorrect! Try again.';
            resultElement.classList.add('incorrect');
        }
    }
    // Display the first question
    displayQuestion();

    function goBack() {
        backButtonClicked = true;
            displayQuestion();
    }


    // ตรวจสอบการเปิด Developer Tools
    function checkDevTools() {
        const isOpen = () => {
            const element = new Image();
            element.__defineGetter__('id', () => {
                console.log('Developer Tools is open!');
                // ทำบางสิ่งที่คุณต้องการทำเมื่อ Developer Tools ถูกเปิด
            });
            console.clear();
            console.log('%c', element);
        };

        setInterval(isOpen, 1000);
    }

    // เรียกใช้งานฟังก์ชัน checkDevTools
    checkDevTools();

</script>



</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../core/style.css">
    <title>Midterm EMR</title>
</head>
<body>
    <h4 style="font-family: 'Prompt'; position: absolute; bottom: 0; right: 0; margin: 10px;">สารจากรุ่นสู่รุ้น | Dev By TanaTherd</h4>
    <h4 style="font-family: 'Prompt';position: absolute; bottom: 0; left: 0; margin: 10px;"><a href="https://tipme.in.th/hyorick" target="_blank"><img src='../images/coffee.PNG' width="40" height="40"></a></h4>
    <div id="question-container" class="switch-container">
        <div style="position: absolute; top: 10px; right: 10px;">
            <label class="switch">
                <input type="checkbox" id="switch" onclick="toggleBackground()">
                <span class="slider"></span>
            </label>
        </div>

        <div style="font-family: 'Prompt'; position: absolute; bottom: 0; right: 0; margin: 10px; color: rgb(0, 0, 0);">
            <span id="current-question-number">0</span> / <span id="total-questions">0</span>
        </div>

        <p id="question-title">TEST</p>
        <div id="options-container" class="options-container"></div>
        <div id="result" class="result"></div>
        <button id="back-button" style="font-family: 'Prompt'; position: absolute; bottom: 0; left: 10px; margin: 10px; display: none; font-size: 17.25px;" onclick="goBack()">Back</button>

        
    </div>



    <div class="nav-menu">
        <div class="menu-toggle" onclick="toggleMenu()">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <ul class="nav-list">
            <li><a href="../index.html">Midterm</a></li>
            <li><a href="LabPing.html">Lab Ping</a></li>
            <li><a href="EMR.html">EMR</a></li>
        </ul>
    </div>

<!-- ... (HTML และ CSS เดิม) ... -->

<script src="./core/script.js"></script>

<script>

let backButtonClicked = false;
let correctAnswersCount = 0;  // เพิ่มตัวแปรเก็บจำนวนข้อที่ตอบถูก
let IncorrectAnswersCount = 0;
let confettiDisplayed = false;  // เพิ่มตัวแปรเพื่อตรวจสอบว่า Confetti ถูกแสดงหรือไม่
function toggleMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navList = document.querySelector('.nav-list');
            menuToggle.classList.toggle('active');
            navList.classList.toggle('show');
        }
    const questions = [
        { question: "<b>ผู้ป่วยหญิงหมดสติไม่รู้สึกตัว หัวใจหยุดเต้น ระหว่างให้การช่วยเหลือด้วยการทำ CPR พบว่าผู้ป่วยมีการอุดกั้นของทางเดินหายใจจากลิ้นที่ตก การจัดการทางเดินหายใจด้วยวิธีการใด เหมาะสม</b>",options: ["Jaw thrust","Head tilt chin lift","Suction","Alternative jaw thrust","Chin lift"], correctAnswer: "Jaw thrust" },
        { question: "<b>เมื่อผู้ป่วยได้รับสารพิษเข้าสู่ร่างกายทางการกิน อวัยวะใดในร่างกายทำหน้าที่ในการกำจัดสารพิษ</b>",options: ["Liver","Pancreas","Stomach","Esophagus","Lung"], correctAnswer: "Liver" },
        { question: "<b>อาการแสดงใดต่อไปนี้ ในผู้ป่วยที่มีภาวะทางเดินหายใจอุดกั้น มีความจำเป็นที่ต้องช่วย เหลือด้วยวิธี Abdominal thrust (Helimlich maneuver)</b>",options: ["รู้สึกตัว พูดไม่มีเสียง","ไม่รู้สึกตัว ไม่หายใจ","ไม่รู้สึกตัว หายใจลำบาก","ไม่รู้สึกตัว ไม่มีเสียงหัวใจ","ไม่รู้สึกตัว หน้าเขียว"], correctAnswer: "รู้สึกตัว พูดไม่มีเสียง" },
        { question: "<b>ข้อใดถูกต้องเกี่ยวกับระบบการแพทย์ฉุกเฉิน</b>",options: ["เป็นระบบการช่วยเหลือผู้ป่วยฉุกเฉิน ณ จุดเกิดเหตุ","อาจใช้คำว่าระบบบริการการแพทย์ฉุกเฉินแทนได้","ให้การช่วยเหลือทั้งผู้บาดเจ็บและผู้ป่วยฉุกเฉิน","เป็นทั้งระบบการกู้ชีพและกู้ภัย","ใช้ระบบเดียวกันทั้งโลก"], correctAnswer: "เป็นระบบการช่วยเหลือผู้ป่วยฉุกเฉิน ณ จุดเกิดเหตุ" },
        { question: "<b>เมื่อผู้บาดเจ็บได้รับการกระแทกบริเวณทรวงอกอย่างรุนแรง ผู้บาดเจ็บมีความเสี่ยงที่จะเกิดการบาดเจ็บที่อวัยวะใดได้บ้าง</b>",options: ["Lung","Rectum","Urethra","Uterus","Pelvis"], correctAnswer: "Lung" },
        { question: "<b>ข้อใดต่อไปนี้ เป็นท่าที่ใช้ในการช่วยผู้ป่วยเด็ก อายุน้อยกว่า 1 ปีที่มีภาวะทางเดินหายใจอุดกั้นจากสิ่งแปลกปลอม แต่ยังมีชีพจรอยู่</b>",options: ["Chest compression","Heimlich maneuver","Abdominal thrust","5 back blows 5 chest thrus","Chest thrust"], correctAnswer: "5 back blows 5 chest thrus" },
        { question: "<b>อาสาฉุกเฉินการแพทย์ออกรับผู้ป่วย มีอาการเจ็บหน้าอก ผู้ป่วยโรคหัวใจเดิม มียาอมใต้ลิ้นประจำ ได้รับคำสั่งจากแพทย์ให้ยาอมใต้ลิ้นโดยใช้ยาของผู้ป่วย ทางใต้ลิ้น ให้แก่ผู้ป่วยแต่อาสาสมัครฉกเฉินการแพทย์ให้ยาทางปากโดยการกลืน จากข้อมูลดังกล่าวเป็นการบริหารยาผิดหลัก 10 R ข้อใด (เข้าใจ)</b>",options: ["Right route","Right dose","Right patient","Right refuse","Right drug"], correctAnswer: "Right route" },
        { question: "<b>ข้อใดถูกต้องเกี่ยวกับความหมายของ Systolic Blood Pressure</b>",options: ["ความดันของเลือดตํ่าสุดไปสูงสุดเมื่อหัวใจห้องล่างบีบตัว","ความดันของเลือดสูงสุดขณะที่หัวใจห้องล่างบีบตัว","ความของดันเลือดสูงสุดขณะที่หัวใจห้องบนบีบตัว","ความของดันเลือดสูงสุดขณะที่หัวใจห้องล่างคลายตัว","ความของดันเลือดตํ่าสุดไปสูงสุดเมื่อหัวใจห้องบนคลายตัว"], correctAnswer: "ความดันของเลือดสูงสุดขณะที่หัวใจห้องล่างบีบตัว" },
        { question: "<b>ข้อใดต่อไปนี้กล่าวไม่ถูกต้อง เกี่ยวกับหลักเบื้องต้นของการใช้ยา</b>",options: ["ก่อนการให้ยาทุกครั้งต้องอ่านฉลากยาทั้งหมด 3 ครั้ง คือ ก่อนแกะกล่องยา ก่อนการเตรียมยา และหลังใช้ยา","ก่อนการให้ยาทุกครั้งต้องมีการตรวจสอบบรรจุภัณฑ์ของยา รูปแบบของยา วันหมดอายุของยาก่อนการให้ยากับผู้ป่วยเสมอ","หลังการให้ยาทุกครั้งต้องมีการติดตามอาการของผู้ป่วยหลังได้รับยาเสมอ ถ้าผู้ป่วยมีอาการแพ้ยาต้องรีบแจ้งแพทย์โดยด่วน","หลังการให้ยาเรียบร้อยแล้ว ต้องมีการจดบันทึก โดยเฉพาะชื่อขสกุลของผู้ที่ให้ยาเสมอ","ก่อนการให้ยาทุกครั้ง ผู้ให้ยาควรทราบข้อบ่งชี้และข้อห้ามของยาตัวนั้น"], correctAnswer: "ก่อนการให้ยาทุกครั้งต้องอ่านฉลากยาทั้งหมด 3 ครั้ง คือ ก่อนแกะกล่องยา ก่อนการเตรียมยา และหลังใช้ยา" },
        { question: "<b>ผู้ป่วยฉุกเฉินมีสิทธิการรักษาด้วยบัตรทอง ท่านจึงตัดสินใจนำส่ง รพ.ภาครัฐ ที่ใช้เวลาเดิน ทางไกลออกไปอีก 5 นาที เป็นเหตุผลทางจริยธรรมที่ถูกต้องหรือไม่เพราะเหตุใด</b>",options: ["ไม่ถูกต้อง ไม่ควรนำส่งรพ. ต้องรีบรักษาให้เร็วที่สุด","ถูกต้อง เพราะไปตามสิทธิและไกลออกไปแค่ 5 นาที","ไม่ถูกต้อง อาจจะไม่ฉุกเฉินจริง","ถูกต้อง เพราะผู้ป่วยบัตรทองต้องนำส่งรพ.ภาครัฐตามสิทธิ","ไม่ถูกต้อง ควรรีบนำส่งรพ. ที่ใกล้ที่สุดเพราะเป็นสิทธิผู้ป่วย"], correctAnswer: "ไม่ถูกต้อง ควรรีบนำส่งรพ. ที่ใกล้ที่สุดเพราะเป็นสิทธิผู้ป่วย" },
        { question: "<b>การให้บริการการแพทย์ฉุกเฉินจะสิ้นสุดเมื่อใด</b>",options: ["เมื่อผู้ป่วยได้นอนในโรงพยาบาล","เมื่อนำส่งผู้ป่วยถึงโรงพยาบาล","เมื่อผู้ป่วยกลับบ้านได้","เมื่อผู้ป่วยหายเป็นปกติ","เมื่อผู้ป่วยพ้นภาวะฉุกเฉิน"], correctAnswer: "เมื่อผู้ป่วยพ้นภาวะฉุกเฉิน" },
        { question: "<b>อำนวยการทั่วไป หมายถึง ข้อใดต่อไปนี้</b>",options: ["การปฏิบัติการที่ได้รับประกาศนียบัตรประเภทปฏิบัติการแพทย์ ตามประกาศกรรมการ การแพทย์ ฉุกเฉิน","การจัดการและการควบคุมการปฏิบัติการฉุกเฉินต่อผู้ช่วยเวชกรรม","การปฏิบัติการซึ่งเป็นผู้ประกอบวิชาชีพตามกฎหมายว่าด้วยสถานพยาบาล","การปฏิบัติการภายใต้การสั่งการที่เชื่อมตรงระหว่างบุคคล","คำสั่งประจำ ขั้นตอน วิธี หรือเกณฑ์วิธีปฏิบัติการฉุกเฉินให้ผู้ช่วยเวชกรรมปฏิบัติตาม"], correctAnswer: "คำสั่งประจำ ขั้นตอน วิธี หรือเกณฑ์วิธีปฏิบัติการฉุกเฉินให้ผู้ช่วยเวชกรรมปฏิบัติตาม" },
        { question: "<b>ข้อใดต่อไปนี้ไม่ถูกต้องเกี่ยวกับการทำงานของระบบการหายใจมนุษย์</b>",options: ["การหายใจออก ใช้กล้ามเนื้อ external intercostal","การหายใจเข้าเป็น active process","การหายใจเข้า-ออก เกิดจากความต่างของความดันด้วย","การหายใจเข้า กล้ามเนื้อ diaphragm หดตัว","การหายใจออกเป็น passive process"], correctAnswer: "การหายใจออก ใช้กล้ามเนื้อ external intercostal" },
        { question: "<b>ข้อใดไม่ถูกต้องเกี่ยวกับความสำคัญของสัญญาณชีพ</b>",options: ["ใช้พิจารณาเพื่อประกอบการตัดสินใจสภาวะสุขภาพของผู้ป่วย","ใช้เป็นข้อมูลในการตัดสินใจเพื่อพิจารณาในการส่งต่อผู้ป่วยเพื่อเข้ารับการรักษา","ใช้เพื่อการวินิจฉัยภาวะคุกคามชีวิต","ใช้พิจารณาสิ่งที่บ่งบอกถึงการมีชีวิตของบุคคล","เป็นสิ่งที่บ่งบอกถึงการเปลี่ยนแปลงในการทำหน้าที่ของร่างกาย"], correctAnswer: "ใช้เป็นข้อมูลในการตัดสินใจเพื่อพิจารณาในการส่งต่อผู้ป่วยเพื่อเข้ารับการรักษา" },
        { question: "<b>ข้อใดต่อไปนี้ ถูกต้อง เกี่ยวกับหลักการประเมินความถูกต้องในการให้ยา right to refuse</b>",options: ["ให้ยาได้ถูกต้องตามปริมาณที่แพทย์สั่ง","ให้ข้อมูลยากับผู้ป่วยทุกครั้งก่อนการให้","เทคนิคในการให้ยากับผู้ป่วยได้อย่างถูกต้อง","อธิบายให้ผู้ป่วยเข้าใจ เมื่อผู้ป่วยปฏิเสธการรับยา","สอบถามชื่อ-นามสกุลผู้ป่วยทุกครั้งก่อนการให้ยา"], correctAnswer: "อธิบายให้ผู้ป่วยเข้าใจ เมื่อผู้ป่วยปฏิเสธการรับยา" },
        { question: "<b>หน่วยงานด้านการแพทย์ฉุกเฉินใดในประเทศไทยก่อตั้งมานานที่สุด </b>",options: ["หน่วยกู้ภัยมูลนิธิร่วมกตัญญ","สถาบันการแพทย์ฉุกเฉินแห่งชาติ","สำนักงานระบบบริการการแพทย์ฉุกเฉิน","ศูนย์นเรนทร","หน่วยกู้ภัยมูลนิธิป่อเต็กตึง"], correctAnswer: "หน่วยกู้ภัยมูลนิธิป่อเต็กตึง" },
        { question: "<b>ในการประเมินสัญญาณชีพ ในผู้ป่วยที่มีอาการไม่คงที่ความประเมินทุกกี่นาที</b>",options: ["ประเมินทุก 15 นาที","ประเมินทุก 10 นาที","ประเมินทุก 4 นาที","ประเมินทุก 5 นาที","ประเมินทุก 2 นาที"], correctAnswer: "ประเมินทุก 15 นาที" },
        { question: "<b>ข้อใดกล่าวผิด เกี่ยวกับหลักการใช้วิทยุสื่อสาร</b>",options: ["ห้ามพูดชื่อผู้ป่วยออกอากาศ","ฟังก่อนว่ามีผู้ใดใช้งานความถี่นี้อยู่หรือไม่","ข้อความสั้น กะทัดรัด ชัดเจน ได้ใจความ","เป็นการสื่อสารแบบ One way","จับวิทยุตั้ง ด้านหน้าด้วยมือซ้าย ให้ปากห่างไมค์ 1-3 เซนติเมตร"], correctAnswer: "เป็นการสื่อสารแบบ One way" },
        { question: "<b>ข้อใดต่อไปนี้เป็นข้อมูลที่จําเป็น น้อยที่สุด ก่อนการให้ยากับผู้ป่วย</b>",options: ["ช่องทางในการให้ยากับผู้ป่วย","ชนิดของยาที่จะให้กับผู้ป่วย","จำนวนของยาที่จะให้กับผู้ป่วย","ชื่อ-สกุล ของผู้ป่วยที่จะให้ยา","วันผลิตของยาที่จะให้กับผู้ป่วย"], correctAnswer: "วันผลิตของยาที่จะให้กับผู้ป่วย" },
        { question: "<b>ข้อใดไม่ใช่หน้าที่ของระบบผิวหนัง</b>",options: ["ช่วยควบคุมอุณหภูมิของร่างกาย","รับรู้สึกความเจ็บปวดของร่างกาย","รับความรู้สึกร้อนหนาว การสัมผัสของร่างกาย","ปกป้องร่างกายจากสภาพแวดล้อมและเชื้อโรค","คงรูปร่างให้กับร่างกาย"], correctAnswer: "คงรูปร่างให้กับร่างกาย" },
        { question: "<b>ข้อใดถูกต้องเกี่ยวกับข้อแตกต่าง ระหว่างทางเดินหายใจเด็กและผู้ใหญ่</b>",options: ["หลอดลมเด็ก มีขนาดที่กว้างกว่าผู้ใหญ่","ทางเดินหายใจเด็ก มีการหดตัวได้น้อยกว่าผู้ใหญ่","สัดส่วนของลิ้นผู้ใหญ่ มีขนาดที่ใหญ่กว่าเด็ก","หลอดลมเด็ก มีสัดส่วนกล้ามเนื้อเรียบที่มากกว่าผู้ใหญ่","เด็กใช้กล้ามเนื้อกระบังลมหายใจมากกว่าผู้ใหญ่"], correctAnswer: "เด็กใช้กล้ามเนื้อกระบังลมหายใจมากกว่าผู้ใหญ่" },
        { question: "<b>การประเมินค่าความอิ่มตัวของออกซิเจนในเลือด ของผู้ป่วยฉุกเฉินที่มีการหายใจเพียงพอ ควรมีค่าไม่น้อยกว่าเท่าใด</b>",options: ["92%","90%","96%","98%","94%"], correctAnswer: "94%" }, 
        { question: "<b>ข้อใดกล่าวผิดตามระเบียบว่าด้วยการรักษาความปลอดภัยแห่งชาติเกี่ยวกับการสื่อสาร พ.ศ. 2525</b>",options: ["เป็นการส่งข่าวใด ๆ โดยการใช้รหัสซึ่งมิใช่เป็นการสนทนากันโดยตรง","สามารถถ่ายทอดข้อมูลระหว่างหน่วยที่ห่างไกลผ่านแม่ข่ายได้","การใช้ตัวอักษรหรือตัวเลข แทนอักษรไม่ต้องขออนุญาตขึ้นทะเบียน","รหัสวิทยุสามารถใช้ได้เฉพาะการติดต่อสื่อสารทางราชการเท่านั้น","การใช้ตัวเลขในข้อความธรรมดาด้วยวิธีการต่าง ๆ เพื่อรักษาความลับในการส่งข่าว"], correctAnswer: "สามารถถ่ายทอดข้อมูลระหว่างหน่วยที่ห่างไกลผ่านแม่ข่ายได้" },
        { question: "<b>ข้อใดควรปฏิบัติเกี่ยวกับการใช้วิทยุสื่อสาร เมื่อเกิดฝนฟ้าคะนองระหว่างนำส่งผู้เจ็บป่วย ฉุกเฉิน</b>",options: ["แจ้งยกเลิกการติดต่อทุกช่องทางเพื่อความปลอดภัย จนกว่าสถานการณ์ปกติ","ปิดเครื่อง Mobile บนรถมาใช้เครื่อง Handy แทน เพราะ watt ต่ำกว่า","เปลี่ยนเสาสไลด์ เป็นเสาพลาสติกแทน เพราะพลาสติกเป็นฉนวนป้องกัน","นํารถ Ambulance เข้าจอดในที่ร่ม เพราะปลอดภัยที่สุด","แจ้งยกเลิกการติดต่อทางวิทยุสื่อสาร โดยให้ติดต่อทางโทรศัพท์แทน"], correctAnswer: "แจ้งยกเลิกการติดต่อทางวิทยุสื่อสาร โดยให้ติดต่อทางโทรศัพท์แทน" },
        { question: "<b>ป่วยที่มีภาวะหัวใจหยุดเต้น ขณะที่ทำการกดหน้าอกครบ 30 ครั้ง ต้องมีการช่วยหายใจร่วม ด้วย 2 ครั้ง ข้อใดต่อไปนี้เหมาะสมที่สุดในการช่วยหายใจ สำหรับอาสาสมัครฉุกเฉินการ แพทย์</b>",options: ["Mouth to mask","Mask with reservoir bag","Nasal cannula","Mouth to mouth","Simple face mask"], correctAnswer: "Mouth to mask" },
        { question: "<b>ข้อใดไม่ใช่ความหมายของผู้ป่วยฉุกเฉิน</b>",options: ["มีการเจ็บป่วยที่เป็นอันตรายต่อการดำรงชีวิต หรืออวัยวะสำคัญ","การเจ็บป่วยนั้น ถ้าไม่รีบช่วยจะท่าให้เกิดการพิการในระยะยาว","การบาดเจ็บนั้น ต้องได้รับการประเมิน จัดการ บำาบัดทันที เพื่อป้องกันภาวะคุกคามชีวิต","ผู้ป่วยประสงค์รับการรักษาโดยเร่งด่วน","บุคคลที่เจ็บป่วยกะทันหัน ทันทีทันใด"], correctAnswer: "ผู้ป่วยประสงค์รับการรักษาโดยเร่งด่วน" },
        { question: "<b>เมื่อผู้ป่วยได้รับสารน้ำเกินปริมาณที่ร่างกายต้องการ อวัยวะใดในร่างกายทำหน้าที่ในการ ช่วยกำจัดน้ำส่วนเกิน</b>",options: ["Esophagus","Kidney","Pancreas","Uterusan","Spinal Cord"], correctAnswer: "Kidney" },
        { question: "<b>ผู้ป่วยฉุกเฉินโรคถุงลมโป่งพอง หายใจหอบเหนื่อย อัตราการหายใจ 26 ครั้งต่อนาที ค่า ความอิ่มตัวของออกซิเจนในเลือดเท่ากับ 94% การให้ออกซิเจนในข้อใดต่อไปนี้เหมาะสม ที่สุด</b>",options: ["Mask with reservoir bag","Mouth to mask","Nasal cannula","Mouth to mouth","Simple face mask"], correctAnswer: "Simple face mask" },
        { question: "<b>การให้ออกวิเจนด้วย nasal cannula ในผู้ป่วยฉุกเฉินที่หายใจลำบาก ควรเปิดอัตราการไหล ของออกซิเจนที่ลิตรต่อนาที</b>",options: ["6-10 LPM","6-8 LPM","10-15 LPM","มากกว่า 15 LPM","1-6 LPM"], correctAnswer: "1-6 LPM" }
];
      
    let currentQuestionIndex = -1;

    function shuffleArray(array) {
        return array.sort(() => Math.random() - 0.5);
    }


    function toggleBackground() {
        const switchElement = document.getElementById('switch');
        const options = document.getElementsByClassName('option');

        if (switchElement.checked) {
            // ถ้า switch ถูกเปิด
            for (let i = 0; i < options.length; i++) {
                const option = options[i];
                if (option.textContent === questions[currentQuestionIndex].correctAnswer) {
                    option.classList.add('green-background');
                }
            }
        } else {
            // ถ้า switch ถูกปิด
            for (let i = 0; i < options.length; i++) {
                const option = options[i];
                option.classList.remove('green-background');
            }
        }
    }

    const totalQuestions = questions.length;

    function displayQuestion() {
        if (backButtonClicked) {
            currentQuestionIndex = (currentQuestionIndex - 1 + totalQuestions) % totalQuestions;
            correctAnswersCount--;
        } else {
            currentQuestionIndex = (currentQuestionIndex + 1) % totalQuestions;  // ใช้ totalQuestions แทน questions.length
            correctAnswersCount++;
        }
        const currentQuestion = questions[currentQuestionIndex];     
        backButtonClicked = false; // Reset the flag

        document.getElementById('options-container').innerHTML = '';
        document.getElementById('question-title').innerHTML = currentQuestion.question;
        document.getElementById('current-question-number').textContent = currentQuestionIndex + 1;
            document.getElementById('total-questions').textContent = totalQuestions;  // อัปเดตจำนวนข้อทั้งหมด

        currentQuestion.options = shuffleArray(currentQuestion.options);

        document.getElementById('back-button').style.display = (currentQuestionIndex > 0) ? 'block' : 'none';

        currentQuestion.options.forEach((option, index) => {
            const optionElement = document.createElement('div');
            optionElement.classList.add('option');
            optionElement.textContent = option;
            optionElement.addEventListener('click', () => checkAnswer(index));
            document.getElementById('options-container').appendChild(optionElement);

            // ตรวจสอบถ้าเป็น correctAnswer ให้เพิ่ม class สีเขียวตรงนี้
            if (option === currentQuestion.correctAnswer && document.getElementById('switch').checked) {
                optionElement.classList.add('green-background');
            }
        });


        document.getElementById('result').textContent = '';
    }



    function checkAnswer(selectedIndex) {
    const currentQuestion = questions[currentQuestionIndex];
    const correctIndex = currentQuestion.options.findIndex(option => option === currentQuestion.correctAnswer);
    document.getElementById('question-title').innerHTML = currentQuestion.question;

    const resultElement = document.getElementById('result');
    if (selectedIndex === correctIndex) {
        resultElement.textContent = 'Correct!';
        resultElement.classList.remove('incorrect');

        if (correctAnswersCount === totalQuestions & IncorrectAnswersCount === 0) {
            displayCelebration();  // Trigger celebration effect
        } else {
            setTimeout(displayQuestion, 1000);
        }
    } else {
        resultElement.textContent = 'Incorrect! Try again.';
        resultElement.classList.add('incorrect');
        IncorrectAnswersCount = IncorrectAnswersCount + 1;
    }
}

    // Display the first question
    displayQuestion();

    function goBack() {
        backButtonClicked = true;
            displayQuestion();
    }


    // ตรวจสอบการเปิด Developer Tools
    function checkDevTools() {
        const isOpen = () => {
            const element = new Image();
            element.__defineGetter__('id', () => {
                console.log('Developer Tools is open!');
                // ทำบางสิ่งที่คุณต้องการทำเมื่อ Developer Tools ถูกเปิด
            });
            console.clear();
            console.log('%c', element);
        };

        setInterval(isOpen, 1000);
    }

    // เรียกใช้งานฟังก์ชัน checkDevTools
    checkDevTools();




// Function เพิ่ม effect Confetti
function addConfetti() {
    const confettiContainer = document.createElement('div');
    confettiContainer.id = 'confetti-container';
    document.body.appendChild(confettiContainer);

    // สร้าง Confetti
    for (let i = 0; i < 200; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.backgroundColor = getRandomColor();
        confetti.style.left = Math.random() * window.innerWidth + 'px';
        confetti.style.animationDuration = Math.random() * 2 + 1 + 's';
        confetti.style.opacity = Math.random();
        confettiContainer.appendChild(confetti);
    }

    // ลบ Confetti หลังจาก animation เสร็จสิ้น
    setTimeout(() => {
        document.body.removeChild(confettiContainer);
        congratsEffect.style.transition = 'opacity 1s ease-in-out';
        congratsEffect.style.opacity = '0';  // ทำให้ opacity เป็น 0 เพื่อให้หายไป
    }, 15000);
}

// Function สุ่มสี
function getRandomColor() {
    const letters = '0123456789ABCDEF';
    let color = '#';
    for (let i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
}

// Function แสดงประกาศยินดีพร้อม Effect Confetti
function displayCelebration() {
    // เพิ่ม effect แสดงประกาศยินดี
    const congratsEffect = document.createElement('div');
    congratsEffect.id = 'congratulation-effect';
    congratsEffect.textContent = 'Congratulations!';  // ข้อความประกาศยินดี
    congratsEffect.style.position = 'absolute';
    congratsEffect.style.top = '100px';
    congratsEffect.style.font = 'Prompt';
    document.body.appendChild(congratsEffect);

    // เพิ่ม effect Confetti
    addConfetti();

    setTimeout(() => {
        window.open("https://youtu.be/jSG1hwdST7I?si=xVP3SnqtFz1RfZaE&t=108", '_blank');
    },2000);

    // รีเซ็ต correctAnswersCount และ แสดง effect ลงทะเบียน
    setTimeout(() => {
        document.body.removeChild(congratsEffect);
        correctAnswersCount = 0;  // รีเซ็ต correctAnswersCount สำหรับการทดลองในอนาคต
        IncorrectAnswersCount = 0;
        displayQuestion();  // ดำเนินการไปที่คำถามถัดไป
    },6000);
}
 
</script>



</body>
</html>